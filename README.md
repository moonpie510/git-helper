# Команды для пуша проекта

**git init** - инициализируем репозиторий. Мы говорим что теперь наша папка это git репозиторий. В результате будет создана папка (*.git* - служебная папка, история изменений).

**rm -rf .git** - разгитить папку, для этого нужно удалить папку .git.

**git status** - выводит информацию о репозитории.

**git add <test.txt>** - добавлет файлы для коммита, то есть мы говорим какие файлы и какую версию нужно сохранить. Можно добавить все файлы если прописать флаг **--all** или добавить всю папку , используя ".".

**git commit -m "Присвоить коммиту сообщение"** - закомитить, то есть сохранить текущую версию файла/проекта.

**git log** - просмотреть историю коммитов. Параметр *--oneline* - выводит сокращенное сообщение в одну строку.

**git remote add origin "URL удаленного репозитория"** - привязываем удаленный репозиторий к локальному. *origin* - имя удалённого репозитория, обычно используют origin.

**git remote -v** - команда, которая позволяет убедиться что репозитории связаны.

**git push -u origin master** - отправляем изменения на удаленный репозиторий. В первый раз вызываем с *-u origin master*, а дальше без этого.

---

# Другие полезные команды

**git commit --amend --no-edit** - добавляет в коммит новые/измененные файлы (ранее нужно добавить их через git add). *--amend* - говорит что не нужно создавать новый коммит, а нужно добавить в старый. *--no-edit* - сохраняет сообщение коммита. Эта команда работает с *HEAD*, то есть с последним коммитом. Если забыть *--no-edit*, то откроется редактор vim/nano.

**git commit --amend -m "Сообщение коммита"** - изменить сообщение коммита.

# Откат изменений

**git restore --staged <file>** - Убираем файл из staging (это список файлов для коммита, туда попадает после git add). Файл попадет либо в *modified* либо в *untracked*.

**git reset --hard <commit hash>** - вернуть состояние репозитория к более раннему, то есть мы удаляем наш коммит и на место *HEAD*, то есть на место главного коммита встает коммит с хэшем *<commit hash>*.

**git restore <file>** - откатывает изменения в файле до последней версии, которая была сохранена через *git commit* или *git add*.

**git diff** - просмотр изменений. Эта команда сравнит последнюю закоммиченную версию файла с текущей (изменённой) версией. По умолчанию команда git diff не показывает изменения в staged файлах — только в modified.

**git diff <хэш коммита 1> <хэш коммита 2>** - сравнивает два коммита между собой.

**git diff --staged** - просмотр изменений в staged файлах.

**echo "Текст сообщения" >> <file>** - записывает в конец файла сообщение. Если указать ">", то сотрет все предыдущие сообщения и запишет новое.

# Игнорирование файлов Git

**.gitignore** - обычный текстовый файл, в который записывается какие файлы нужно игнорировать. Правила из .gitignore применяются только к новым (untracked) файлам. Если файл уже попал в staging area или в коммит, то правила на него не распространяются.

Если в .gitignore записать test.txt, то мы будем игнорировать этот файл.

__Символ *__ - этот символ соответсвует любой строке. Если указать *.img, то будут игнорироваться все изображения. А если указать docs/*/tmp, то будут игнорироваться все файлы в подпапке docs (например docs/current/tmp).

**Символ ?** - игнорирует один знак.

**Квадратные скобки []** - игнорируют один символ из числа тах что в скобках. Можно перечислить символы ([abc]) или указать через тире ([a-z]). *file[0-2].txt* проигнорирует file0.txt, file1.txt, file2.txt.

**Слэш /** - указывает на каталоги. */todo.txt* - игнорировать todo.txt в корне репозитория. *spam.txt* - spam.txt будет игнорироваться во всех папках. Если шаблон заканчивается слешем, то правило применится только к папке (build/) - игнорировать папку build.

**Парные звездочки '''**'''** - в отличие от одной звезды, двойная звезда может соответствовать любому кол-ву папок (в том числе 0), а одна звезда соответствует только одной папке.

**Восклицательный знак !** - инвертирование правила. *.jpeg - игнорировать все JPEG-файлы, !doge.jpeg - но только не мем с Doge.

**git status --ignored** - статус всех файлов, в том числе игнорируемых.
